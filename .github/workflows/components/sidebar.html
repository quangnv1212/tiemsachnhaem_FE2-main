<link rel="stylesheet" href="../assets/css/sidebar.css" />
<div
  class="sidebar"
  style="
    background: #ffffff;
    color: #333;
    padding: 15px;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    border-right: 1px solid #f0f0f0;
    width: 300px;
    box-sizing: border-box;
    overflow: visible;
    left: 0;
    top: 0;
  "
>
  <div>
    <div
      class="logo"
      style="text-align: center; margin-bottom: 35px; padding-top: 10px"
    >
      <img
        src="assets/images/Logo to.png"
        alt="Tiệm Sách Nhà Em"
        width="140"
        height="109"
      />
    </div>
    <ul class="menu" style="list-style: none; padding: 0; margin: 0">
      <li
        id="menu-overview"
        onclick="location.href='index.html'"
        style="
          display: flex;
          align-items: center;
          padding: 12px 15px;
          margin-bottom: 12px;
          border-radius: 8px;
          transition: all 0.3s ease;
          color: #555;
          font-weight: 500;
          white-space: nowrap;
          font-family: 'Montserrat', sans-serif;
        "
      >
        <div
          class="menu-icon"
          style="
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
          "
        >
          <img
            src="assets/images/Tổng quan trắng.png"
            width="22"
            alt="Tổng quan"
            style="filter: brightness(0.3)"
          />
        </div>
        <span>Tổng quan</span>
      </li>
      <li
        id="menu-products"
        onclick="location.href='adminQLSP.html'"
        style="
          display: flex;
          align-items: center;
          padding: 12px 15px;
          margin-bottom: 12px;
          border-radius: 8px;
          transition: all 0.3s ease;
          color: #555;
          font-weight: 500;
          white-space: nowrap;
          font-family: 'Montserrat', sans-serif;
        "
      >
        <div
          class="menu-icon"
          style="
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
          "
        >
          <img
            src="assets/images/Quản lý sản phẩm.png"
            width="22"
            alt="Sản phẩm"
            style="filter: brightness(0.3)"
          />
        </div>
        <span>Quản lý sản phẩm</span>
      </li>
      <li
        id="menu-orders"
        onclick="location.href='quanlydonhang.html'"
        style="
          display: flex;
          align-items: center;
          padding: 12px 15px;
          margin-bottom: 12px;
          border-radius: 8px;
          transition: all 0.3s ease;
          color: #555;
          font-weight: 500;
          white-space: nowrap;
          font-family: 'Montserrat', sans-serif;
        "
      >
        <div
          class="menu-icon"
          style="
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
          "
        >
          <img
            src="assets/images/quản lý đơn hàng.png"
            width="22"
            alt="Đơn hàng"
            style="filter: brightness(0.3)"
          />
        </div>
        <span>Quản lý đơn hàng</span>
      </li>
      <li
        id="menu-customers"
        onclick="location.href='QLKH.html'"
        style="
          display: flex;
          align-items: center;
          padding: 12px 15px;
          margin-bottom: 12px;
          border-radius: 8px;
          transition: all 0.3s ease;
          color: #555;
          font-weight: 500;
          white-space: nowrap;
          font-family: 'Montserrat', sans-serif;
        "
      >
        <div
          class="menu-icon"
          style="
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
          "
        >
          <img
            src="assets/images/quản lý khách hàng.png"
            width="22"
            alt="Khách hàng"
            style="filter: brightness(0.3)"
          />
        </div>
        <span>Quản lý khách hàng</span>
      </li>
      <li
        id="menu-statistics"
        onclick="location.href='statistics.html'"
        style="
          display: flex;
          align-items: center;
          padding: 12px 15px;
          margin-bottom: 12px;
          border-radius: 8px;
          transition: all 0.3s ease;
          color: #555;
          font-weight: 500;
          white-space: nowrap;
          font-family: 'Montserrat', sans-serif;
        "
      >
        <div
          class="menu-icon"
          style="
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
          "
        >
          <img
            src="assets/images/Thống kê.png"
            width="22"
            alt="Thống kê"
            style="filter: brightness(0.3)"
          />
        </div>
        <span>Thống kê</span>
      </li>
    </ul>

    <div style="border-top: 1px solid #f0f0f0; margin-top: 15px"></div>

    <div
      class="account-info"
      style="
        padding-top: 15px;
        padding-bottom: 0px;
        background-color: #ffffff;
        font-family: 'Montserrat', sans-serif;
        display: flex;
        flex-direction: column;
        gap: 10px;
      "
    >
      <div
        class="profile-section"
        style="display: flex; flex-direction: column; align-items: center"
      >
        <div
          class="profile-avatar"
          style="
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: #6563ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            color: #fff;
            box-shadow: 0 4px 10px rgba(101, 99, 255, 0.2);
            margin-bottom: 0px;
          "
        >
          A
        </div>
        <div style="font-size: 14px; color: #888">Tài khoản của tôi</div>
        <div style="font-size: 16px; font-weight: bold; color: #333">ADMIN</div>
      </div>
      <button
        id="logout-button"
        class="logout-button"
        onclick="logout()"
        style="
          width: 100%;
          background-color: #f44336;
          color: white;
          border: none;
          padding: 12px 15px;
          text-align: center;
          font-size: 16px;
          margin-top: 5px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);
          font-family: 'Montserrat', sans-serif;
        "
      >
        <img
          src="assets/images/Frame.png"
          width="18"
          style="margin-right: 8px; filter: brightness(0) invert(1)"
        />
        <span>Đăng xuất</span>
      </button>
    </div>
  </div>
</div>

<!-- Thêm CSS để áp dụng cho trạng thái active của menu item -->
<style>
  .menu li.active {
    background-color: #ffebee;
    color: #333 !important;
    border-radius: 8px;
  }

  .menu li:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
</style>

<!-- Thêm script đăng xuất trực tiếp -->
<script>
  function logout() {
    console.log("Logout function called directly");
    // Xóa thông tin người dùng khỏi localStorage
    localStorage.removeItem("userInfo");
    localStorage.removeItem("token");
    localStorage.removeItem("userId");

    // Xác định đường dẫn đến trang đăng nhập dựa trên vị trí hiện tại
    const currentPath = window.location.pathname;
    let loginPath;

    // Nếu đang ở trang chính (root)
    if (
      currentPath.endsWith("index.html") ||
      currentPath === "/" ||
      currentPath.endsWith("/")
    ) {
      loginPath = "dangnhap1.html";
    }
    // Nếu đang ở trong thư mục pages
    else if (currentPath.includes("/pages/")) {
      loginPath = "dangnhap1.html";
    }
    // Trường hợp khác
    else {
      loginPath = "pages/dangnhap1.html";
    }

    console.log("Đăng xuất thành công, chuyển hướng đến:", loginPath);
    // Chuyển hướng đến trang đăng nhập
    window.location.href = loginPath;
  }
</script>

<!-- Thêm file JavaScript cho sidebar -->
<script src="../assets/js/sidebar.js"></script>
